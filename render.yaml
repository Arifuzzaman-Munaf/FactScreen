services:
  - type: web
    name: factscreen-api
    env: python
    region: oregon  # Change to your preferred region
    branch: main    # Change to your default branch if different
    # Optimized build command to reduce memory usage (important for free tier)
    buildCommand: pip install --upgrade pip setuptools wheel && pip install --no-cache-dir -r requirements-dev.txt
    # Use render_start.py which is optimized for Render deployment
    # This ensures proper port binding and process stays in foreground
    startCommand: python render_start.py
    plan: free      # Free tier (512MB RAM, spins down after 15min inactivity)
    healthCheckPath: /v1/health
