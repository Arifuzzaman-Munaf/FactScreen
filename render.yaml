services:
  - type: web
    name: factscreen-api
    env: python
    region: oregon  # Change to your preferred region
    branch: main    # Change to your default branch if different
    # Optimized build command to reduce memory usage (important for free tier)
    buildCommand: pip install --upgrade pip setuptools wheel && pip install --no-cache-dir -r requirements-dev.txt
    # Use entrypoint/server.py which handles Render environment automatically
    startCommand: python entrypoint/server.py
    plan: free      # Free tier (512MB RAM, spins down after 15min inactivity)
    healthCheckPath: /v1/health
