services:
  - type: web
    name: factscreen-api
    env: python
    region: oregon  # Change to your preferred region
    branch: main    # Change to your default branch if different
    # Optimized build command to reduce memory usage
    buildCommand: pip install --upgrade pip setuptools wheel && pip install --no-cache-dir -r requirements-dev.txt
    # Use dedicated Render startup script for reliable port binding
    startCommand: python entrypoint/render_start.py
    plan: starter   # Use 'starter' or 'standard' for production (free tier has 512MB limit)
    healthCheckPath: /v1/health
